# ============================================
# PERFECT SALON - Backend Environment Variables
# ============================================
# Copie este arquivo para .env e preencha com seus valores reais
# NUNCA commite o arquivo .env no Git!

# ============================================
# SERVER CONFIGURATION
# ============================================
NODE_ENV=development
# Valores possíveis: development, staging, production

PORT=3001
# Porta onde o servidor backend irá rodar

FRONTEND_URL=http://localhost:3000
# URL do frontend (usado para CORS)
# Em produção: https://yourdomain.com

# ============================================
# DATABASE CONFIGURATION
# ============================================
# PostgreSQL (Recomendado)
DATABASE_URL=postgresql://username:password@localhost:5432/perfectsalon
# Formato: postgresql://user:password@host:port/database

# Para produção com SSL:
# DATABASE_URL=postgresql://user:password@host:5432/dbname?sslmode=require

DATABASE_SSL=false
# true para produção, false para desenvolvimento local

# MongoDB (Alternativa)
# MONGODB_URI=mongodb://localhost:27017/perfectsalon
# MONGODB_URI=mongodb+srv://user:password@cluster.mongodb.net/perfectsalon

# ============================================
# AUTHENTICATION & SECURITY
# ============================================
# JWT Secrets (use strings longas e aleatórias - mínimo 32 caracteres)
# Gere com: openssl rand -base64 32
JWT_SECRET=your_super_secret_jwt_key_change_this_in_production_min_32_chars
JWT_EXPIRES_IN=15m
# Tempo de expiração do access token (15 minutos recomendado)

JWT_REFRESH_SECRET=your_refresh_token_secret_different_from_jwt_secret
JWT_REFRESH_EXPIRES_IN=7d
# Tempo de expiração do refresh token (7 dias recomendado)

# Bcrypt Salt Rounds (para hash de senhas)
BCRYPT_SALT_ROUNDS=10
# Recomendado: 10-12 rounds

# Rate Limiting
RATE_LIMIT_WINDOW_MS=900000
# Janela de tempo em milissegundos (15 minutos = 900000)

RATE_LIMIT_MAX_REQUESTS=100
# Máximo de requests por IP na janela de tempo

# ============================================
# GOOGLE OAUTH 2.0
# ============================================
# Obtenha em: https://console.cloud.google.com/apis/credentials
GOOGLE_CLIENT_ID=your_google_client_id.apps.googleusercontent.com
GOOGLE_CLIENT_SECRET=your_google_client_secret_here

# URL de callback após autenticação Google
GOOGLE_REDIRECT_URI=http://localhost:3001/api/auth/google/callback
# Em produção: https://api.yourdomain.com/api/auth/google/callback

# ============================================
# WHATSAPP BUSINESS API
# ============================================
# Opção 1: WhatsApp Business API Oficial (Meta)
WHATSAPP_API_URL=https://graph.facebook.com/v18.0
WHATSAPP_PHONE_NUMBER_ID=your_phone_number_id
WHATSAPP_ACCESS_TOKEN=your_whatsapp_access_token
WHATSAPP_VERIFY_TOKEN=your_webhook_verify_token
# Token para verificar webhook do WhatsApp

# Opção 2: Evolution API (alternativa)
# EVOLUTION_API_URL=http://localhost:8080
# EVOLUTION_API_KEY=your_evolution_api_key

# Opção 3: Twilio WhatsApp
# TWILIO_ACCOUNT_SID=your_twilio_account_sid
# TWILIO_AUTH_TOKEN=your_twilio_auth_token
# TWILIO_WHATSAPP_FROM=whatsapp:+14155238886

# ============================================
# GOOGLE CALENDAR API
# ============================================
# Mesmas credenciais do Google OAuth acima
# O Google Calendar usa o mesmo Client ID e Secret

# Scopes necessários para acesso ao Google Calendar
GOOGLE_CALENDAR_SCOPES=https://www.googleapis.com/auth/calendar
# Permite ler e escrever eventos no calendário

# Timezone padrão para eventos do calendário
GOOGLE_CALENDAR_TIMEZONE=America/Sao_Paulo
# Formato: America/Sao_Paulo, America/New_York, Europe/London, etc.

# ID do calendário padrão (geralmente 'primary' para calendário principal)
GOOGLE_CALENDAR_ID=primary
# Para usar calendário secundário, use o email do calendário compartilhado

# ============================================
# GEMINI AI API
# ============================================
# Obtenha em: https://makersuite.google.com/app/apikey
GEMINI_API_KEY=your_gemini_api_key_here

# Modelo a ser usado
GEMINI_MODEL=gemini-pro
# Opções: gemini-pro, gemini-pro-vision

# ============================================
# EMAIL CONFIGURATION (SMTP)
# ============================================
# Para envio de emails (notificações, convites, etc.)

# Gmail
SMTP_HOST=smtp.gmail.com
SMTP_PORT=587
SMTP_SECURE=false
# true para porta 465, false para porta 587

SMTP_USER=your_email@gmail.com
SMTP_PASS=your_app_password
# Para Gmail, use "App Password" não a senha normal
# Configure em: https://myaccount.google.com/apppasswords

EMAIL_FROM=noreply@yourdomain.com
EMAIL_FROM_NAME=Perfect Salon

# Alternativa: SendGrid
# SENDGRID_API_KEY=your_sendgrid_api_key
# SENDGRID_FROM_EMAIL=noreply@yourdomain.com

# Alternativa: AWS SES
# AWS_SES_REGION=us-east-1
# AWS_ACCESS_KEY_ID=your_aws_access_key
# AWS_SECRET_ACCESS_KEY=your_aws_secret_key

# ============================================
# REDIS (Cache e Sessões)
# ============================================
# Opcional mas recomendado para produção
REDIS_URL=redis://localhost:6379
# Formato: redis://password@host:port ou redis://host:port

REDIS_PASSWORD=
# Deixe vazio se não usar senha

REDIS_TTL=3600
# Time to live padrão em segundos (1 hora)

# ============================================
# FILE STORAGE
# ============================================
# Para upload de imagens (fotos de profissionais, etc.)

# Opção 1: AWS S3
# AWS_S3_BUCKET_NAME=perfect-salon-uploads
# AWS_S3_REGION=us-east-1
# AWS_ACCESS_KEY_ID=your_aws_access_key
# AWS_SECRET_ACCESS_KEY=your_aws_secret_key
# AWS_S3_ENDPOINT=https://s3.amazonaws.com

# Opção 2: Cloudinary
# CLOUDINARY_CLOUD_NAME=your_cloud_name
# CLOUDINARY_API_KEY=your_api_key
# CLOUDINARY_API_SECRET=your_api_secret

# Opção 3: Local Storage (apenas desenvolvimento)
STORAGE_TYPE=local
STORAGE_PATH=./uploads

# ============================================
# LOGGING & MONITORING
# ============================================
LOG_LEVEL=info
# Valores: error, warn, info, debug, verbose

# Sentry (Error Tracking)
SENTRY_DSN=
# Obtenha em: https://sentry.io
# Formato: https://key@sentry.io/project-id

SENTRY_ENVIRONMENT=development
# development, staging, production

# LogRocket (Session Replay)
# LOGROCKET_APP_ID=your_logrocket_app_id

# ============================================
# ANALYTICS
# ============================================
# Google Analytics (opcional)
# GA_TRACKING_ID=G-XXXXXXXXXX

# ============================================
# WEBHOOKS
# ============================================
# Para receber notificações de serviços externos

WEBHOOK_SECRET=your_webhook_secret_key
# Use para validar webhooks recebidos

# ============================================
# FEATURE FLAGS (Opcional)
# ============================================
# Para controlar features em produção
# ENABLE_WHATSAPP=true
# ENABLE_GOOGLE_CALENDAR=true
# ENABLE_GEMINI_AI=true
# ENABLE_2FA=false

# ============================================
# DEVELOPMENT ONLY
# ============================================
# Apenas para desenvolvimento local
# DEBUG=true
# SEED_DATABASE=false
# MOCK_EXTERNAL_APIS=false

# ============================================
# NOTAS IMPORTANTES
# ============================================
# 1. NUNCA commite este arquivo com valores reais
# 2. Use diferentes valores para desenvolvimento, staging e produção
# 3. Rotacione secrets regularmente em produção
# 4. Use gerenciadores de secrets (AWS Secrets Manager, HashiCorp Vault) em produção
# 5. Mantenha backups seguros das variáveis de ambiente
# 6. Revise permissões de acesso regularmente

